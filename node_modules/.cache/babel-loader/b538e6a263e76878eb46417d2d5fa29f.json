{"ast":null,"code":"import _classCallCheck from \"/Users/tonylum/Desktop/hostongitpages/Helping-Hand-App/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/tonylum/Desktop/hostongitpages/Helping-Hand-App/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/tonylum/Desktop/hostongitpages/Helping-Hand-App/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/tonylum/Desktop/hostongitpages/Helping-Hand-App/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/tonylum/Desktop/hostongitpages/Helping-Hand-App/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/tonylum/Desktop/hostongitpages/Helping-Hand-App/src/components/guestvolunteerbutton.js\";\nimport React, { Component } from 'react';\nimport { Button } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport { withRouter } from \"react-router-dom\";\nimport * as Const from '../const.js';\n\nvar GuestVolunteerButton =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(GuestVolunteerButton, _Component);\n\n  function GuestVolunteerButton() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, GuestVolunteerButton);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(GuestVolunteerButton)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.handleClick = function () {\n      fetch(\"\".concat(Const.ENDPOINT, \"users/login\"), {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Accept\": \"application/json\"\n        },\n        body: JSON.stringify({\n          email: \"VolunteerTestAccount@gmail.com\",\n          password: \"123\"\n        })\n      }).then(function (response) {\n        return response.json();\n      }).then(function (volunteerAccount) {\n        _this.props.removeCurrentUser();\n\n        localStorage.removeItem(\"user\");\n\n        _this.props.addLoginAccountToStore(volunteerAccount);\n\n        localStorage.setItem(\"user\", volunteerAccount.id);\n        localStorage.setItem(\"accountType\", \"users\");\n\n        _this.props.history.push(\"/events\");\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(GuestVolunteerButton, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Button, {\n        onClick: this.handleClick,\n        variant: \"info\",\n        size: \"sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, \"Volunteer Test Account\");\n    }\n  }]);\n\n  return GuestVolunteerButton;\n}(Component);\n\nvar mapDispatchToProps = {\n  addLoginAccountToStore: function addLoginAccountToStore(account) {\n    return {\n      type: \"ADD_LOGIN_ACCOUNT_TO_STORE\",\n      payload: account\n    };\n  },\n  removeCurrentUser: function removeCurrentUser() {\n    return {\n      type: \"REMOVE_CURRENT_USER\",\n      payload: {\n        id: null\n      }\n    };\n  }\n};\nexport default withRouter(connect(null, mapDispatchToProps)(GuestVolunteerButton));","map":{"version":3,"sources":["/Users/tonylum/Desktop/hostongitpages/Helping-Hand-App/src/components/guestvolunteerbutton.js"],"names":["React","Component","Button","connect","withRouter","Const","GuestVolunteerButton","handleClick","fetch","ENDPOINT","method","headers","body","JSON","stringify","email","password","then","response","json","volunteerAccount","props","removeCurrentUser","localStorage","removeItem","addLoginAccountToStore","setItem","id","history","push","mapDispatchToProps","account","type","payload"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAAQC,MAAR,QAAsB,iBAAtB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAT,QAA0B,kBAA1B;AACA,OAAO,KAAKC,KAAZ,MAAuB,aAAvB;;IAGMC,oB;;;;;;;;;;;;;;;;;;UAEJC,W,GAAc,YAAK;AACjBC,MAAAA,KAAK,WAAIH,KAAK,CAACI,QAAV,kBAAgC;AACnCC,QAAAA,MAAM,EAAE,MAD2B;AAEnCC,QAAAA,OAAO,EAAE;AACP,0BAAgB,kBADT;AAEP,oBAAU;AAFH,SAF0B;AAMnCC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,UAAAA,KAAK,EAAE,gCADY;AAEnBC,UAAAA,QAAQ,EAAE;AAFS,SAAf;AAN6B,OAAhC,CAAL,CAWCC,IAXD,CAWM,UAAAC,QAAQ;AAAA,eAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,OAXd,EAYCF,IAZD,CAYM,UAAAG,gBAAgB,EAAI;AACxB,cAAKC,KAAL,CAAWC,iBAAX;;AACAC,QAAAA,YAAY,CAACC,UAAb,CAAwB,MAAxB;;AACA,cAAKH,KAAL,CAAWI,sBAAX,CAAkCL,gBAAlC;;AACAG,QAAAA,YAAY,CAACG,OAAb,CAAqB,MAArB,EAA6BN,gBAAgB,CAACO,EAA9C;AACAJ,QAAAA,YAAY,CAACG,OAAb,CAAqB,aAArB,EAAoC,OAApC;;AACA,cAAKL,KAAL,CAAWO,OAAX,CAAmBC,IAAnB,CAAwB,SAAxB;AACD,OAnBD;AAoBD,K;;;;;;;6BAEQ;AACP,aAAO,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAE,KAAKtB,WAAtB;AAAmC,QAAA,OAAO,EAAC,MAA3C;AAAkD,QAAA,IAAI,EAAE,IAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAAP;AACD;;;;EA3BgCN,S;;AA8BnC,IAAM6B,kBAAkB,GAAG;AACzBL,EAAAA,sBAAsB,EAAE,gCAACM,OAAD;AAAA,WAAc;AACpCC,MAAAA,IAAI,EAAE,4BAD8B;AAEpCC,MAAAA,OAAO,EAAEF;AAF2B,KAAd;AAAA,GADC;AAKzBT,EAAAA,iBAAiB,EAAE;AAAA,WAAO;AACxBU,MAAAA,IAAI,EAAC,qBADmB;AAExBC,MAAAA,OAAO,EAAE;AAACN,QAAAA,EAAE,EAAE;AAAL;AAFe,KAAP;AAAA;AALM,CAA3B;AAWA,eAAevB,UAAU,CAACD,OAAO,CAAC,IAAD,EAAO2B,kBAAP,CAAP,CAAkCxB,oBAAlC,CAAD,CAAzB","sourcesContent":["import React, { Component } from 'react';\nimport {Button } from 'react-bootstrap'\nimport { connect } from 'react-redux'\nimport { withRouter} from \"react-router-dom\"\nimport * as Const from '../const.js'\n\n\nclass GuestVolunteerButton extends Component {\n\n  handleClick = () =>{\n    fetch(`${Const.ENDPOINT}users/login`,{\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\"\n      },\n      body: JSON.stringify({\n        email: \"VolunteerTestAccount@gmail.com\",\n        password: \"123\"\n      })\n    })\n    .then(response => response.json())\n    .then(volunteerAccount => {\n      this.props.removeCurrentUser()\n      localStorage.removeItem(\"user\")\n      this.props.addLoginAccountToStore(volunteerAccount)\n      localStorage.setItem(\"user\", volunteerAccount.id)\n      localStorage.setItem(\"accountType\", \"users\")\n      this.props.history.push(\"/events\")\n    })\n  }\n\n  render() {\n    return <Button onClick={this.handleClick} variant=\"info\" size= \"sm\">Volunteer Test Account</Button>\n  }\n}\n\nconst mapDispatchToProps = {\n  addLoginAccountToStore: (account) => ({\n    type: \"ADD_LOGIN_ACCOUNT_TO_STORE\",\n    payload: account\n  }),\n  removeCurrentUser: () => ({\n    type:\"REMOVE_CURRENT_USER\",\n    payload: {id: null}})\n}\n\n\nexport default withRouter(connect(null, mapDispatchToProps)(GuestVolunteerButton))\n"]},"metadata":{},"sourceType":"module"}