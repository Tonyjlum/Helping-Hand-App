{"ast":null,"code":"import _objectSpread from \"/Users/tonylum/Desktop/hostongitpages/Helping-Hand-App/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/tonylum/Desktop/hostongitpages/Helping-Hand-App/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/tonylum/Desktop/hostongitpages/Helping-Hand-App/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/tonylum/Desktop/hostongitpages/Helping-Hand-App/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/tonylum/Desktop/hostongitpages/Helping-Hand-App/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/tonylum/Desktop/hostongitpages/Helping-Hand-App/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/tonylum/Desktop/hostongitpages/Helping-Hand-App/src/container/confirmcontainer.js\";\nimport React, { PureComponent } from 'react';\nimport { Modal, Button, Form } from 'react-bootstrap';\nimport ConfirmVolunteer from '../components/confirmvolunteers.js';\nimport * as Const from '../const.js';\n\nvar ConfirmContainer =\n/*#__PURE__*/\nfunction (_PureComponent) {\n  _inherits(ConfirmContainer, _PureComponent);\n\n  function ConfirmContainer() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ConfirmContainer);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ConfirmContainer)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      confirms: []\n    };\n\n    _this.renderConfrims = function () {\n      return _this.state.confirms.map(function (confirm) {\n        return React.createElement(ConfirmVolunteer, {\n          key: confirm.id,\n          confirm: confirm,\n          handleRadio: _this.handleRadio,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 23\n          },\n          __self: this\n        });\n      });\n    };\n\n    _this.handleRadio = function (id, value) {\n      _this.setState({\n        confirms: _this.state.confirms.map(function (confirm) {\n          if (confirm.id === id) {\n            return _objectSpread({}, confirm, {\n              attend: value === \"true\" ? true : false\n            });\n          } else {\n            return confirm;\n          }\n        })\n      });\n    };\n\n    _this.handleSubmit = function (props) {\n      _this.props.onHide();\n\n      var attended_id = _this.state.confirms.filter(function (confirm) {\n        return confirm.attend;\n      }).map(function (confirm) {\n        return confirm.id;\n      });\n\n      fetch(\"\".concat(Const.ENDPOINT, \"confirms/update_confirms\"), {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Accept\": \"application/json\"\n        },\n        body: JSON.stringify({\n          attended_id: attended_id\n        })\n      }); // .then( response => response.json())\n      // .then( attended_ids => console.log(attended_ids))\n    };\n\n    return _this;\n  }\n\n  _createClass(ConfirmContainer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      fetch(\"\".concat(Const.ENDPOINT, \"events/\").concat(this.props.event.id)).then(function (response) {\n        return response.json();\n      }).then(function (current_event) {\n        _this2.setState({\n          confirms: current_event.confirms\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Modal, {\n        className: \"confirm-volunteer\",\n        size: \"lg\",\n        \"aria-labelledby\": \"contained-modal-title-vcenter\",\n        centered: true,\n        show: this.props.show,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(Modal.Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(Modal.Title, {\n        id: \"contained-modal-title-vcenter\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, this.props.event.title)), React.createElement(Modal.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"confirm-users\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, this.renderConfrims()))), React.createElement(Modal.Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.props.onHide,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"Close\"), React.createElement(Button, {\n        onClick: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"Submit Confirms\")));\n    }\n  }]);\n\n  return ConfirmContainer;\n}(PureComponent);\n\nexport default ConfirmContainer;","map":{"version":3,"sources":["/Users/tonylum/Desktop/hostongitpages/Helping-Hand-App/src/container/confirmcontainer.js"],"names":["React","PureComponent","Modal","Button","Form","ConfirmVolunteer","Const","ConfirmContainer","state","confirms","renderConfrims","map","confirm","id","handleRadio","value","setState","attend","handleSubmit","props","onHide","attended_id","filter","fetch","ENDPOINT","method","headers","body","JSON","stringify","event","then","response","json","current_event","show","title"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react';\nimport { Modal, Button, Form } from 'react-bootstrap'\nimport ConfirmVolunteer from '../components/confirmvolunteers.js'\nimport * as Const from '../const.js'\n\nclass ConfirmContainer extends PureComponent {\n  state= {\n    confirms: []\n  }\n\n  componentDidMount(){\n    fetch(`${Const.ENDPOINT}events/${this.props.event.id}`)\n    .then(response => response.json())\n    .then(current_event => {this.setState({\n      confirms: current_event.confirms\n    })}\n    )\n  }\n\n  renderConfrims = () => {\n    return (this.state.confirms.map( confirm => {\n      return(\n      <ConfirmVolunteer\n        key={confirm.id}\n        confirm={confirm}\n        handleRadio={this.handleRadio}\n      />\n      )\n    }))\n  }\n\n  handleRadio = (id, value) => {\n    this.setState({\n      confirms: this.state.confirms.map( confirm => {\n        if (confirm.id === id){\n          return {...confirm, attend: (value === \"true\" ? true : false)}\n        } else {\n          return confirm\n        }\n      })\n    })\n  }\n\n  handleSubmit = (props) => {\n    this.props.onHide()\n    const attended_id = this.state.confirms.filter( confirm => {\n      return confirm.attend\n    }).map( confirm => {\n      return confirm.id\n    })\n    fetch(`${Const.ENDPOINT}confirms/update_confirms`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\" : \"application/json\",\n        \"Accept\" : \"application/json\"\n      },\n      body: JSON.stringify({attended_id})\n    })\n    // .then( response => response.json())\n    // .then( attended_ids => console.log(attended_ids))\n  }\n\n\n  render() {\n    return (\n      <Modal\n        className=\"confirm-volunteer\"\n        size=\"lg\"\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        centered\n        show= {this.props.show}\n      >\n        <Modal.Header >\n          <Modal.Title id=\"contained-modal-title-vcenter\">\n            {this.props.event.title}\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Form>\n            <div id=\"confirm-users\">\n              {this.renderConfrims()}\n            </div>\n          </Form>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button onClick={this.props.onHide} >Close</Button>\n          <Button onClick={this.handleSubmit} >Submit Confirms</Button>\n        </Modal.Footer>\n      </Modal>\n    )\n  }\n}\n\nexport default ConfirmContainer;\n"]},"metadata":{},"sourceType":"module"}