{"ast":null,"code":"import _objectSpread from \"/Users/tonylum/Desktop/hostongitpages/Helping-Hand-App/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _defineProperty from \"/Users/tonylum/Desktop/hostongitpages/Helping-Hand-App/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/tonylum/Desktop/hostongitpages/Helping-Hand-App/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/tonylum/Desktop/hostongitpages/Helping-Hand-App/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/tonylum/Desktop/hostongitpages/Helping-Hand-App/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/tonylum/Desktop/hostongitpages/Helping-Hand-App/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/tonylum/Desktop/hostongitpages/Helping-Hand-App/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/tonylum/Desktop/hostongitpages/Helping-Hand-App/src/components/editmodal.js\";\nimport React, { Component } from 'react';\nimport { Modal, Button, Form } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport * as Const from '../const.js';\n\nvar EditModal =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(EditModal, _Component);\n\n  function EditModal() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, EditModal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(EditModal)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      description: _this.props.event.description,\n      datetime: _this.props.event.datetime.slice(0, 16),\n      max_volunteers: _this.props.event.max_volunteers\n    };\n\n    _this.handleChange = function (e) {\n      _this.setState(_defineProperty({}, e.target.id, e.target.value));\n    };\n\n    _this.handleSubmit = function () {\n      _this.props.onHide();\n\n      fetch(\"\".concat(Const.ENDPOINT, \"events/\").concat(_this.props.event.id), {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Accept\": \"application/json\"\n        },\n        body: JSON.stringify({\n          datetime: _this.state.datetime,\n          max_volunteers: _this.state.max_volunteers,\n          description: _this.state.description\n        })\n      }).then(function (response) {\n        return response.json();\n      }).then(function (updated_event) {\n        var updatedCEI = _this.updateCEI(updated_event);\n\n        _this.props.updateConfirms(updatedCEI);\n      });\n    };\n\n    _this.updateCEI = function (updated_event) {\n      return _this.props.state.currentUser.confirm_event_info.map(function (cei) {\n        if (cei.event.id === updated_event.id) {\n          return _objectSpread({}, cei, {\n            event: updated_event\n          });\n        } else {\n          return cei;\n        }\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(EditModal, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Modal, {\n        size: \"lg\",\n        \"aria-labelledby\": \"contained-modal-title-vcenter\",\n        centered: true,\n        show: this.props.show,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(Modal.Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(Modal.Title, {\n        id: \"contained-modal-title-vcenter\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"Update:  \", this.props.event.title)), React.createElement(Modal.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(Form, {\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        controlId: \"description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"Event Discription\"), React.createElement(Form.Control, {\n        type: \"text\",\n        defaultValue: this.state.description,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }), React.createElement(Form.Text, {\n        className: \"text-muted\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      })), React.createElement(Form.Group, {\n        controlId: \"datetime\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"Previous Date and Time:\"), React.createElement(Form.Control, {\n        type: \"datetime-local\",\n        defaultValue: this.state.datetime,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), React.createElement(Form.Text, {\n        className: \"text-muted\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      })), React.createElement(Form.Group, {\n        controlId: \"max_volunteers\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"Volunteers:\"), React.createElement(Form.Control, {\n        type: \"number\",\n        value: this.state.max_volunteers,\n        min: this.props.event.max_volunteers,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }), React.createElement(Form.Text, {\n        className: \"text-muted\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      })))), React.createElement(Modal.Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.props.onHide,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \"Close\"), React.createElement(Button, {\n        onClick: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"Update Event\")));\n    }\n  }]);\n\n  return EditModal;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    state: state\n  };\n};\n\nvar mapDispatchToProps = {\n  updateConfirms: function updateConfirms(updated_confrim) {\n    return {\n      type: \"UPDATE_CONFIRMS\",\n      payload: updated_confrim\n    };\n  }\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(EditModal);","map":{"version":3,"sources":["/Users/tonylum/Desktop/hostongitpages/Helping-Hand-App/src/components/editmodal.js"],"names":["React","Component","Modal","Button","Form","connect","Const","EditModal","state","description","props","event","datetime","slice","max_volunteers","handleChange","e","setState","target","id","value","handleSubmit","onHide","fetch","ENDPOINT","method","headers","body","JSON","stringify","then","response","json","updated_event","updatedCEI","updateCEI","updateConfirms","currentUser","confirm_event_info","map","cei","show","title","mapStateToProps","mapDispatchToProps","updated_confrim","type","payload"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Modal, Button, Form } from 'react-bootstrap'\nimport { connect } from 'react-redux'\nimport * as Const from '../const.js'\n\n\nclass EditModal extends Component {\n  state = {\n    description: this.props.event.description,\n    datetime: this.props.event.datetime.slice(0,16),\n    max_volunteers: this.props.event.max_volunteers\n  }\n\n  handleChange = (e) => {\n    this.setState({\n      [e.target.id]: e.target.value\n    })\n  }\n\n  handleSubmit = () => {\n    this.props.onHide()\n    fetch(`${Const.ENDPOINT}events/${this.props.event.id}`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\" : \"application/json\",\n        \"Accept\" : \"application/json\"\n      },\n      body: JSON.stringify({\n        datetime: this.state.datetime,\n        max_volunteers: this.state.max_volunteers,\n        description: this.state.description\n      })\n    })\n    .then(response => response.json())\n    .then( (updated_event) => {\n      const updatedCEI = this.updateCEI(updated_event)\n      this.props.updateConfirms(updatedCEI)\n    })\n  }\n\n  updateCEI = (updated_event) => {\n    return this.props.state.currentUser.confirm_event_info.map( cei => {\n      if (cei.event.id === updated_event.id) {\n        return {...cei, event: updated_event}\n      } else {\n        return cei\n      }\n    })\n  }\n\n\n  render() {\n    return (\n      <Modal\n        size=\"lg\"\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        centered show= {this.props.show}\n      >\n        <Modal.Header >\n          <Modal.Title id=\"contained-modal-title-vcenter\">\n            Update:  {this.props.event.title}\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Form onChange={this.handleChange} >\n            <Form.Group controlId=\"description\">\n              <Form.Label>Event Discription</Form.Label>\n              <Form.Control\n                type=\"text\"\n                defaultValue={this.state.description}\n              />\n              <Form.Text className=\"text-muted\" ></Form.Text>\n            </Form.Group>\n            <Form.Group controlId=\"datetime\">\n              <Form.Label>Previous Date and Time:</Form.Label>\n              <Form.Control\n                type=\"datetime-local\"\n                defaultValue={this.state.datetime}\n              />\n              <Form.Text className=\"text-muted\"></Form.Text>\n            </Form.Group>\n            <Form.Group controlId=\"max_volunteers\">\n              <Form.Label>Volunteers:</Form.Label>\n              <Form.Control\n                type=\"number\"\n                value={this.state.max_volunteers}\n                min= {this.props.event.max_volunteers}\n              />\n              <Form.Text className=\"text-muted\"></Form.Text>\n             </Form.Group>\n          </Form>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button onClick={this.props.onHide} >Close</Button>\n          <Button onClick={this.handleSubmit} >Update Event</Button>\n        </Modal.Footer>\n      </Modal>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {state}\n}\n\nconst mapDispatchToProps = {\n  updateConfirms: (updated_confrim) => ({type: \"UPDATE_CONFIRMS\", payload: updated_confrim})\n}\n\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EditModal);\n"]},"metadata":{},"sourceType":"module"}