{"ast":null,"code":"import _classCallCheck from \"/Users/tonylum/Desktop/hostongitpages/Helping-Hand-App/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/tonylum/Desktop/hostongitpages/Helping-Hand-App/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/tonylum/Desktop/hostongitpages/Helping-Hand-App/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/tonylum/Desktop/hostongitpages/Helping-Hand-App/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/tonylum/Desktop/hostongitpages/Helping-Hand-App/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/tonylum/Desktop/hostongitpages/Helping-Hand-App/src/components/guestsponsorbutton.js\";\nimport React, { Component } from 'react';\nimport { Button } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport { withRouter } from \"react-router-dom\";\nimport * as Const from '../const.js';\n\nvar GuestSponsorButton =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(GuestSponsorButton, _Component);\n\n  function GuestSponsorButton() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, GuestSponsorButton);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(GuestSponsorButton)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.handleClick = function () {\n      fetch(\"\".concat(Const.ENDPOINT, \"sponsors/login\"), {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Accept\": \"application/json\"\n        },\n        body: JSON.stringify({\n          email: \"TestAccount@gmail.com\",\n          password: \"123\"\n        })\n      }).then(function (response) {\n        return response.json();\n      }).then(function (sponsorAccount) {\n        _this.props.removeCurrentUser();\n\n        localStorage.removeItem(\"user\");\n\n        _this.props.markSponsorInStore();\n\n        _this.props.addLoginAccountToStore(sponsorAccount);\n\n        localStorage.setItem(\"user\", sponsorAccount.id);\n        localStorage.setItem(\"accountType\", \"sponsors\");\n\n        _this.props.history.push(\"/events\");\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(GuestSponsorButton, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Button, {\n        onClick: this.handleClick,\n        variant: \"info\",\n        size: \"sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, \"Sponsor Test Account\");\n    }\n  }]);\n\n  return GuestSponsorButton;\n}(Component);\n\nvar mapDispatchToProps = {\n  addLoginAccountToStore: function addLoginAccountToStore(account) {\n    return {\n      type: \"ADD_LOGIN_ACCOUNT_TO_STORE\",\n      payload: account\n    };\n  },\n  markSponsorInStore: function markSponsorInStore() {\n    return {\n      type: \"LOGGED_IN_AS_SPONSOR\"\n    };\n  },\n  removeCurrentUser: function removeCurrentUser() {\n    return {\n      type: \"REMOVE_CURRENT_USER\",\n      payload: {\n        id: null\n      }\n    };\n  }\n};\nexport default withRouter(connect(null, mapDispatchToProps)(GuestSponsorButton));","map":{"version":3,"sources":["/Users/tonylum/Desktop/hostongitpages/Helping-Hand-App/src/components/guestsponsorbutton.js"],"names":["React","Component","Button","connect","withRouter","Const","GuestSponsorButton","handleClick","fetch","ENDPOINT","method","headers","body","JSON","stringify","email","password","then","response","json","sponsorAccount","props","removeCurrentUser","localStorage","removeItem","markSponsorInStore","addLoginAccountToStore","setItem","id","history","push","mapDispatchToProps","account","type","payload"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAAQC,MAAR,QAAsB,iBAAtB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAT,QAA0B,kBAA1B;AACA,OAAO,KAAKC,KAAZ,MAAuB,aAAvB;;IAEMC,kB;;;;;;;;;;;;;;;;;;UAEJC,W,GAAc,YAAK;AACjBC,MAAAA,KAAK,WAAIH,KAAK,CAACI,QAAV,qBAAmC;AACtCC,QAAAA,MAAM,EAAE,MAD8B;AAEtCC,QAAAA,OAAO,EAAE;AACP,0BAAgB,kBADT;AAEP,oBAAU;AAFH,SAF6B;AAMtCC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,UAAAA,KAAK,EAAE,uBADY;AAEnBC,UAAAA,QAAQ,EAAE;AAFS,SAAf;AANgC,OAAnC,CAAL,CAWCC,IAXD,CAWM,UAAAC,QAAQ;AAAA,eAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,OAXd,EAYCF,IAZD,CAYM,UAAAG,cAAc,EAAI;AACtB,cAAKC,KAAL,CAAWC,iBAAX;;AACAC,QAAAA,YAAY,CAACC,UAAb,CAAwB,MAAxB;;AACA,cAAKH,KAAL,CAAWI,kBAAX;;AACA,cAAKJ,KAAL,CAAWK,sBAAX,CAAkCN,cAAlC;;AACAG,QAAAA,YAAY,CAACI,OAAb,CAAqB,MAArB,EAA6BP,cAAc,CAACQ,EAA5C;AACAL,QAAAA,YAAY,CAACI,OAAb,CAAqB,aAArB,EAAoC,UAApC;;AACA,cAAKN,KAAL,CAAWQ,OAAX,CAAmBC,IAAnB,CAAwB,SAAxB;AACD,OApBD;AAqBD,K;;;;;;;6BAEQ;AACP,aAAO,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAE,KAAKvB,WAAtB;AAAmC,QAAA,OAAO,EAAC,MAA3C;AAAkD,QAAA,IAAI,EAAE,IAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAAP;AACD;;;;EA5B8BN,S;;AA+BjC,IAAM8B,kBAAkB,GAAG;AACzBL,EAAAA,sBAAsB,EAAE,gCAACM,OAAD;AAAA,WAAc;AACpCC,MAAAA,IAAI,EAAE,4BAD8B;AAEpCC,MAAAA,OAAO,EAAEF;AAF2B,KAAd;AAAA,GADC;AAKzBP,EAAAA,kBAAkB,EAAE;AAAA,WAAO;AACzBQ,MAAAA,IAAI,EAAC;AADoB,KAAP;AAAA,GALK;AAQzBX,EAAAA,iBAAiB,EAAE;AAAA,WAAO;AACxBW,MAAAA,IAAI,EAAC,qBADmB;AAExBC,MAAAA,OAAO,EAAE;AAACN,QAAAA,EAAE,EAAE;AAAL;AAFe,KAAP;AAAA;AARM,CAA3B;AAaA,eAAexB,UAAU,CAACD,OAAO,CAAC,IAAD,EAAO4B,kBAAP,CAAP,CAAkCzB,kBAAlC,CAAD,CAAzB","sourcesContent":["import React, { Component } from 'react';\nimport {Button } from 'react-bootstrap'\nimport { connect } from 'react-redux'\nimport { withRouter} from \"react-router-dom\"\nimport * as Const from '../const.js'\n\nclass GuestSponsorButton extends Component {\n\n  handleClick = () =>{\n    fetch(`${Const.ENDPOINT}sponsors/login`,{\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\"\n      },\n      body: JSON.stringify({\n        email: \"TestAccount@gmail.com\",\n        password: \"123\"\n      })\n    })\n    .then(response => response.json())\n    .then(sponsorAccount => {\n      this.props.removeCurrentUser()\n      localStorage.removeItem(\"user\")\n      this.props.markSponsorInStore()\n      this.props.addLoginAccountToStore(sponsorAccount)\n      localStorage.setItem(\"user\", sponsorAccount.id)\n      localStorage.setItem(\"accountType\", \"sponsors\")\n      this.props.history.push(\"/events\")\n    })\n  }\n\n  render() {\n    return <Button onClick={this.handleClick} variant=\"info\" size= \"sm\">Sponsor Test Account</Button>\n  }\n}\n\nconst mapDispatchToProps = {\n  addLoginAccountToStore: (account) => ({\n    type: \"ADD_LOGIN_ACCOUNT_TO_STORE\",\n    payload: account\n  }),\n  markSponsorInStore: () => ({\n    type:\"LOGGED_IN_AS_SPONSOR\"\n  }),\n  removeCurrentUser: () => ({\n    type:\"REMOVE_CURRENT_USER\",\n    payload: {id: null}})\n}\n\nexport default withRouter(connect(null, mapDispatchToProps)(GuestSponsorButton))\n"]},"metadata":{},"sourceType":"module"}