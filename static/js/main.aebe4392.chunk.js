(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{116:function(e,t,n){"use strict";n.r(t);var a=n(37),r=n(15),o=n(0),c=n.n(o),i=n(25),s=n.n(i),l=(n(82),n(83),n(7)),u=n(6),m=n(9),p=n(8),d=n(10),h=(n(84),n(13)),f=n(129),E=n(118),v=n(128),b=n(127),y=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).navbarForUser=function(){return null===n.props.state.currentUser.id?c.a.createElement("div",{className:"space-button"},c.a.createElement(E.a,{onClick:function(){return n.props.history.push("/newmember")},variant:"outline-info"},"Become a Member"),c.a.createElement(E.a,{onClick:function(){return n.props.history.push("/login")},variant:"outline-info"}," Sign in")):c.a.createElement("div",{className:"log-out-button"},c.a.createElement(E.a,{onClick:function(){n.props.history.push("/"),n.props.removeCurrentUser(),localStorage.removeItem("user")},variant:"outline-info"}," Sign out"))},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement(v.a,{bg:"dark",variant:"dark"},c.a.createElement(v.a.Brand,{onClick:function(){return e.props.history.push("/")}},"HelpingHand"),c.a.createElement(b.a,{className:"mr-auto"},this.props.state.currentUser.id&&c.a.createElement(b.a.Link,{onClick:function(){return e.props.history.push("/events")}},"How Can I Help?"),this.props.state.sponsor?c.a.createElement(b.a.Link,{onClick:function(){return e.props.history.push("/contribution")}},"My Contributions"):this.props.state.currentUser.id&&c.a.createElement(b.a.Link,{onClick:function(){return e.props.history.push("/attending")}},"My Events")),c.a.createElement(v.a.Brand,null,this.props.state.sponsor&&"Total Contribution: $ ".concat(this.props.state.currentUser.total_donations,".00"),!1===this.props.state.sponsor&&null!==this.props.state.currentUser.id&&"Credit Earned: $ ".concat(this.props.state.currentUser.credit,".00")),c.a.createElement(v.a.Brand,null,this.props.state.currentUser.email),this.navbarForUser())}}]),t}(o.Component),O=Object(f.a)(Object(h.b)(function(e){return{state:e}},{removeCurrentUser:function(){return{type:"REMOVE_CURRENT_USER",payload:{id:null}}}})(y)),g=n(130),j=n(36),C=n.n(j),_=n(11),T=n(125),S=n(126),N="https://helpinghandapi.herokuapp.com/",w={events:[],location:[40.71528,-73.95426],currentUser:{id:null,confirm_event_info:[],donations:[]},userEvents:[],sponsor:!1},D="AIzaSyA-kXyO4hu_HuTp2rb36ub5Adun3uY88n8",A=function(e){function t(){var e,n;Object(l.a)(this,t);for(var o=arguments.length,c=new Array(o),i=0;i<o;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(c)))).state={donationAmount:5},n.handleChange=function(e){n.setState(Object(_.a)({},e.target.id,e.target.value))},n.handleSubmit=function(){n.props.onHide(),fetch("".concat(N,"donations"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({event_id:n.props.event.id,sponsor_id:n.props.state.currentUser.id,amount_per_volunteer:n.state.donationAmount})}).then(function(e){return e.json()}).then(function(e){n.props.addToDonations(e);var t=n.updateEvents(n.updateEventDonations(e));n.props.UpdateEvents(t)})},n.updateEvents=function(e){return n.props.state.events.map(function(t){return e.id===t.id?e:t})},n.updateEventDonations=function(e){return Object(r.a)({},n.props.event,{donations:[].concat(Object(a.a)(n.props.event.donations),[e])})},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return c.a.createElement(T.a,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:this.props.show},c.a.createElement(T.a.Header,null,c.a.createElement(T.a.Title,{id:"contained-modal-title-vcenter"},this.props.event.title)),c.a.createElement(T.a.Body,null,this.props.event.description),c.a.createElement(T.a.Body,null,c.a.createElement(S.a,{onChange:this.handleChange},c.a.createElement(S.a.Group,{controlId:"donationAmount"},c.a.createElement(S.a.Label,null,"Your Contribution"),c.a.createElement(S.a.Control,{type:"number",defaultValue:this.state.donationAmount,min:"5",max:"200"}),c.a.createElement(S.a.Text,{className:"text-muted"})))),c.a.createElement(T.a.Footer,null,c.a.createElement(E.a,{onClick:this.props.onHide},"Close"),c.a.createElement(E.a,{onClick:this.handleSubmit},"Sponsor Event")))}}]),t}(o.Component),x=Object(h.b)(function(e){return{state:e}},{addToDonations:function(e){return{type:"ADD_DONATIONS_TO_USER",payload:e}},UpdateEvents:function(e){return{type:"ADD_DONATIONS_TO_EVENT",payload:e}}})(A),k=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={userButtonToggle:!1,sponsorButtonToggle:!1},n.fundedColor=function(){return 0===n.props.donation?"danger":"primary"},n.joinEventButton=function(e){return c.a.createElement(E.a,{disabled:n.state.userButtonToggle,onClick:function(){n.handleClick(n.props.event.id)},size:"sm"}," ","Join: ".concat(e," slots left"))},n.userButton=function(){var e=n.props.event.max_volunteers-n.props.event.confirms.length;return n.props.event.confirms.map(function(e){return e.user_id}).includes(n.props.state.currentUser.id)?c.a.createElement("strong",null,"Attending"):e>0?n.joinEventButton(e):"This event is full"},n.sponsorButton=function(){if(!n.props.event.donations.map(function(e){return e.sponsor_id}).includes(n.props.state.currentUser.id))return c.a.createElement(E.a,{size:"sm",onClick:n.toggleSponsorButton},"Sponsor This Event")},n.toggleSponsorButton=function(){n.setState({sponsorButtonToggle:!n.state.sponsorButtonToggle})},n.sponsorCount=function(){return n.props.event.donations.length>1?" ".concat(n.props.event.donations.length," sponsors"):" a sponsor"},n.eventDiscription=function(){return n.props.event.description.length>160?"".concat(n.props.event.description.slice(0,157),"..."):n.props.event.description},n.handleClick=function(e){n.setState({userButtonToggle:!n.state.userButtonToggle}),fetch("".concat(N,"confirms"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({user_id:n.props.state.currentUser.id,event_id:e})}).then(function(e){return e.json()}).then(function(e){return n.props.addConfirms(e)}).then(fetch("".concat(N,"events")).then(function(e){return e.json()}).then(function(e){return n.props.addEventsToStore(e)}))},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(e){var t=this;return c.a.createElement(g.a,{border:this.fundedColor(),className:"shadow",onClick:function(){return t.props.changeLocation(t.props.event)}},c.a.createElement(g.a.Body,{className:"shadow-sm"},c.a.createElement(g.a.Title,null,this.props.event.title),c.a.createElement(g.a.Text,null,c.a.createElement("small",null,this.eventDiscription())),c.a.createElement(g.a.Text,null,c.a.createElement("small",null,c.a.createElement(C.a,{locale:"en",format:"MMMM DD, YYYY",className:"date-event-card"},this.props.event.datetime),"\xa0at\xa0",c.a.createElement(C.a,{format:"LT",className:"time-event-card"},this.props.event.datetime))),this.props.state.sponsor?this.sponsorButton():this.userButton()),c.a.createElement(g.a.Footer,null,c.a.createElement("small",null," Coordinated by: ",this.props.event.coordinator_name)," ",c.a.createElement("br",null),c.a.createElement("small",{className:"text-muted"},this.props.donation?"Funded: $".concat(this.props.donation," by ").concat(this.sponsorCount()):"This project has not been funded")),c.a.createElement(x,{show:this.state.sponsorButtonToggle,onHide:this.toggleSponsorButton,event:this.props.event}))}}]),t}(o.Component),U=Object(h.b)(function(e){return{state:e}},{addEventsToStore:function(e){return{type:"ADD_EVENTS",payload:e}},addConfirms:function(e){return{type:"ADD_CONFIRMS",payload:e}}})(k),I=n(120),L=n(119),R=n(75),B={datetime:"",title:"",discription:"",max_volunteers:"",address:"",lat:0,long:0},M=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state=B,n.handleChange=function(e){n.setState(Object(_.a)({},e.target.id,e.target.value))},n.handleSubmit=function(e){e.preventDefault(),fetch("https://maps.googleapis.com/maps/api/geocode/json?address=".concat(n.state.address,"&key=").concat(D)).then(function(e){return e.json()}).then(function(e){if("ZERO_RESULTS"===e.status)return alert("".concat(n.state.address," is not a valid address. Please try a different address"));var t={latitude:e.results[0].geometry.location.lat,longitude:e.results[0].geometry.location.lng};n.props.addLocationToStore(t),n.setState({lat:e.results[0].geometry.location.lat,long:e.results[0].geometry.location.lng},function(){return n.postNewEvent()})})},n.postNewEvent=function(){fetch("".concat(N,"events"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({coordinator_id:n.props.state.currentUser.id,datetime:n.state.datetime,title:n.state.title,max_volunteers:n.state.max_volunteers,address:n.state.address,description:n.state.discription,lat:n.state.lat,long:n.state.long})}).then(function(e){return e.json()}).then(function(e){n.props.addEventToStore(e),fetch("".concat(N,"users/").concat(e.coordinator_id)).then(function(e){return e.json()}).then(function(e){return n.props.addEventsToUser(e)})}).then(function(){return n.setState(B)})},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return c.a.createElement(S.a,{className:"new-event-form",onChange:this.handleChange,onSubmit:this.handleSubmit},c.a.createElement(L.a,null,c.a.createElement(R.a,{xs:5},c.a.createElement(S.a.Group,{controlId:"title"},c.a.createElement(S.a.Label,null,"Event Title:"),c.a.createElement(S.a.Control,{required:!0,type:"text",value:this.state.title,size:"sm"}),c.a.createElement(S.a.Text,{className:"text-muted"}))),c.a.createElement(R.a,{xs:7},c.a.createElement(S.a.Group,{controlId:"discription"},c.a.createElement(S.a.Label,null,"Discription: "),c.a.createElement(S.a.Control,{required:!0,type:"text",placeholder:"e.g. clean up Riegelmann Boardwalk at Coney Island",value:this.state.discription,size:"sm"}),c.a.createElement(S.a.Text,{className:"text-muted"})))),c.a.createElement(L.a,null,c.a.createElement(R.a,{xs:5},c.a.createElement(S.a.Group,{controlId:"address"},c.a.createElement(S.a.Label,null,"Address: "),c.a.createElement(S.a.Control,{required:!0,type:"text",value:this.state.address,size:"sm"}),c.a.createElement(S.a.Text,{className:"text-muted"}))),c.a.createElement(R.a,{xs:2},c.a.createElement(S.a.Group,{controlId:"max_volunteers"},c.a.createElement(S.a.Label,null,"Volunteers:"),c.a.createElement(S.a.Control,{required:!0,type:"number",value:this.state.max_volunteers,size:"sm"}),c.a.createElement(S.a.Text,{className:"text-muted"}))),c.a.createElement(R.a,{xs:5},c.a.createElement(S.a.Group,{controlId:"datetime"},c.a.createElement(S.a.Label,null,"Date and Time"),c.a.createElement(S.a.Control,{required:!0,type:"datetime-local",value:this.state.datetime.slice(0,16),size:"sm"}),c.a.createElement(S.a.Text,{className:"text-muted"})))),c.a.createElement(E.a,{variant:"primary",type:"submit",size:"sm"},"Plan the event!"))}}]),t}(o.Component),G=Object(h.b)(function(e){return{state:e}},{addEventToStore:function(e){return{type:"ADD_NEW_EVENT",payload:e}},addEventsToUser:function(e){return{type:"ADD_LOGIN_ACCOUNT_TO_STORE",payload:e}},addLocationToStore:function(e){return{type:"ADD_CURRENT_LOCATION",payload:e}}})(M),P=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).filteredEvents=function(){return n.props.events.filter(function(e){return Date.parse(e.datetime)>Date.parse(new Date)})},n.renderEventCards=function(){return n.filteredEvents().map(function(e){var t=e.donations.map(function(e){return e.amount_per_volunteer}).reduce(function(e,t){return e+t},0);return c.a.createElement(U,{key:e.id,event:e,donation:t,changeLocation:n.changeLocation})})},n.changeLocation=function(e){var t={latitude:e.lat,longitude:e.long};n.props.addLocationToStore(t)},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(N,"events")).then(function(e){return e.json()}).then(function(t){return e.props.addEventsToStore(t)})}},{key:"render",value:function(){return c.a.createElement("div",{className:"event-container"},c.a.createElement("div",{className:"form-container"},!this.props.sponsor_logged_in&&c.a.createElement(G,null)),c.a.createElement("br",null),c.a.createElement("div",{className:"event-cards-container"},c.a.createElement(I.a,{className:"event-card-columns"},this.renderEventCards())))}}]),t}(o.Component),H=Object(h.b)(function(e){return{events:e.events,sponsor_logged_in:e.sponsor}},{addEventsToStore:function(e){return{type:"ADD_EVENTS",payload:e}},addLocationToStore:function(e){return{type:"ADD_CURRENT_LOCATION",payload:e}}})(P),F=n(121),V=n(131),z=n(132),Y=n(133),J=n(17),W=n.n(J),$=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).filteredEvents=function(){return n.props.events.filter(function(e){return Date.parse(e.datetime)>Date.parse(new Date)})},n.renderPin=function(){var e=W.a.icon({iconUrl:"https://unpkg.com/leaflet@1.4.0/dist/images/marker-icon-2x.png",iconSize:[18,30]});return n.filteredEvents().map(function(t,n){var a=[t.lat,t.long];return c.a.createElement(F.a,{key:n,position:a,icon:e},c.a.createElement(V.a,null,t.description))})},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;navigator.geolocation.getCurrentPosition(function(t){e.props.addLocationToStore(t.coords)})}},{key:"render",value:function(){return c.a.createElement(z.a,{className:"map-display",animate:!0,style:{height:"93vh",width:"100%"},center:this.props.location,zoom:14},c.a.createElement(Y.a,{url:"https://maps.wikimedia.org/osm-intl/{z}/{x}/{y}{r}.png"}),this.renderPin())}}]),t}(o.Component),q=Object(h.b)(function(e){return e},{addLocationToStore:function(e){return{type:"ADD_CURRENT_LOCATION",payload:e}}})($),Z=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"user-container"},c.a.createElement(q,{className:"map-display"}),c.a.createElement(H,{className:"event-container"}))}}]),t}(o.Component),X=n(122),K=function(){return c.a.createElement(X.a,null,c.a.createElement(g.a,{className:"home-card"}),c.a.createElement(g.a,{className:"home-card"},c.a.createElement(g.a.Img,{variant:"top",src:"https://image.flaticon.com/icons/svg/1006/1006652.svg",heigh:"50px"}),c.a.createElement(g.a.Body,null,c.a.createElement(g.a.Text,null,c.a.createElement("h3",{className:"center"}," ORGANIZE"),c.a.createElement("div",{className:"text-muted center"},"Organize an event to invoke the change and inspire the community to come together for the greater good.")))),c.a.createElement(g.a,{className:"home-card"},c.a.createElement(g.a.Img,{variant:"top",src:"https://image.flaticon.com/icons/svg/1006/1006623.svg",heigh:"50px"}),c.a.createElement(g.a.Body,null,c.a.createElement(g.a.Text,null,c.a.createElement("h3",{className:"center"}," DISCOVER"),c.a.createElement("div",{className:"text-muted center"},"Find others like yourself with the same passion.")))),c.a.createElement(g.a,{className:"home-card"},c.a.createElement(g.a.Img,{variant:"top",src:"https://image.flaticon.com/icons/svg/1534/1534938.svg",heigh:"50px"}),c.a.createElement(g.a.Body,null,c.a.createElement(g.a.Text,null,c.a.createElement("h3",{className:"center"}," GIVE "),c.a.createElement("div",{className:"text-muted center"},"While attending events, volunteers will earn a credited amount to donate to a charity of their choice.")))),c.a.createElement(g.a,{className:"home-card"}))},Q=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){fetch("".concat(N,"sponsors/login"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:"TestAccount@gmail.com",password:"123"})}).then(function(e){return e.json()}).then(function(e){n.props.removeCurrentUser(),localStorage.removeItem("user"),n.props.markSponsorInStore(),n.props.addLoginAccountToStore(e),localStorage.setItem("user",e.id),localStorage.setItem("accountType","sponsors"),n.props.history.push("/events")})},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return c.a.createElement(E.a,{onClick:this.handleClick,variant:"info",size:"sm"},"Sponsor Test Account")}}]),t}(o.Component),ee=Object(f.a)(Object(h.b)(null,{addLoginAccountToStore:function(e){return{type:"ADD_LOGIN_ACCOUNT_TO_STORE",payload:e}},markSponsorInStore:function(){return{type:"LOGGED_IN_AS_SPONSOR"}},removeCurrentUser:function(){return{type:"REMOVE_CURRENT_USER",payload:{id:null}}}})(Q)),te=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){fetch("".concat(N,"users/login"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:"VolunteerTestAccount@gmail.com",password:"123"})}).then(function(e){return e.json()}).then(function(e){n.props.removeCurrentUser(),localStorage.removeItem("user"),n.props.addLoginAccountToStore(e),localStorage.setItem("user",e.id),localStorage.setItem("accountType","users"),n.props.history.push("/events")})},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return c.a.createElement(E.a,{onClick:this.handleClick,variant:"info",size:"sm"},"Volunteer Test Account")}}]),t}(o.Component),ne=Object(f.a)(Object(h.b)(null,{addLoginAccountToStore:function(e){return{type:"ADD_LOGIN_ACCOUNT_TO_STORE",payload:e}},removeCurrentUser:function(){return{type:"REMOVE_CURRENT_USER",payload:{id:null}}}})(te)),ae=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"homepage-top"},c.a.createElement("img",{src:"https://i.ibb.co/hDvg3YG/Untitled.png",alt:"Be the change you want to see in the world Plan it with Helping Hand and let the world know how they can help.",width:"100%",position:"absolute"}),c.a.createElement("div",{className:"landing-text"},c.a.createElement("h1",null,"Be the change ",c.a.createElement("br",null),"you want to see in the world"),c.a.createElement("br",null),c.a.createElement("h4",null,"Plan it with Helping Hand and ",c.a.createElement("br",null)," let the world know how they can help."),c.a.createElement(ne,null),c.a.createElement(ee,null))),c.a.createElement(K,{className:"homepage-bottom"}))},re=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",first_name:"",last_name:""},n.handleChange=function(e){n.setState(Object(_.a)({},e.target.id,e.target.value))},n.handleSubmit=function(e){e.preventDefault(),fetch("".concat(N).concat(n.props.accountType),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:n.state.email,password:n.state.password,first_name:n.state.first_name,last_name:n.state.last_name})}).then(function(e){return e.json()}).then(function(e){n.props.addLoginAccountToStore(e),n.props.history.push("/login")})},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return c.a.createElement(S.a,{onChange:this.handleChange,onSubmit:this.handleSubmit,className:"justify-content-md-center"},c.a.createElement(R.a,{xs:!0,lg:"12"},c.a.createElement("h1",null,"Welcome to Helping Hand"),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(S.a.Group,{controlId:"first_name"},c.a.createElement(S.a.Label,null,"First Name:"),c.a.createElement(S.a.Control,{type:"text",value:this.state.first_name}),c.a.createElement(S.a.Text,{className:"text-muted"})),c.a.createElement(S.a.Group,{controlId:"last_name"},c.a.createElement(S.a.Label,null,"Last Name:"),c.a.createElement(S.a.Control,{type:"text",value:this.state.last_name}),c.a.createElement(S.a.Text,{className:"text-muted"})),c.a.createElement(S.a.Group,{controlId:"email"},c.a.createElement(S.a.Label,null,"Email:"),c.a.createElement(S.a.Control,{type:"text",placeholder:"yourname@example.com",value:this.state.email}),c.a.createElement(S.a.Text,{className:"text-muted"})),c.a.createElement(S.a.Group,{controlId:"password"},c.a.createElement(S.a.Label,null,"Password:"),c.a.createElement(S.a.Control,{type:"password",value:this.state.password}),c.a.createElement(S.a.Text,{className:"text-muted"})),c.a.createElement(E.a,{variant:"primary",type:"submit"},"Make Account")))}}]),t}(o.Component),oe=Object(f.a)(Object(h.b)(null,{addLoginAccountToStore:function(e){return{type:"ADD_LOGIN_ACCOUNT_TO_STORE",payload:e}}})(re)),ce=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={showButton:!0,showForm:!1,accountType:null},n.handlebuttonselect=function(e){n.setState({showButton:!n.state.showButton,showForm:!n.state.showForm,accountType:e})},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement(L.a,{className:"justify-content-md-center"},c.a.createElement(R.a,{xs:!0,lg:"5",className:"center"},this.state.showButton&&c.a.createElement(E.a,{onClick:function(){e.handlebuttonselect("users")}},"I want to help as a Volunteer"),c.a.createElement("br",null),c.a.createElement("br",null),this.state.showButton&&c.a.createElement(E.a,{onClick:function(){e.handlebuttonselect("sponsors")}},"I want to help by becoming a Sponsor"),this.state.showForm&&c.a.createElement(oe,{accountType:this.state.accountType})))}}]),t}(o.Component),ie=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",accountType:""},n.handleChange=function(e){n.setState(Object(_.a)({},e.target.id,e.target.value))},n.handleSubmit=function(e){if(e.preventDefault(),!n.state.accountType)return alert("Please select the account type.");fetch("".concat(N).concat(n.state.accountType,"/login"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:n.state.email,password:n.state.password})}).then(function(e){return e.json()}).then(function(e){if(0===e.id)return alert("Invalid login.");localStorage.setItem("user",e.id),localStorage.setItem("accountType",n.state.accountType),n.props.addLoginAccountToStore(e),n.props.history.push("/events"),"sponsors"===n.state.accountType&&n.props.markSponsorInStore()})},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return c.a.createElement(S.a,{onChange:this.handleChange,onSubmit:this.handleSubmit,className:"justify-content-md-center"},c.a.createElement(R.a,{xs:!0,lg:"6"},c.a.createElement("h1",{align:"center"},"Welcome to Helping Hand"),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(S.a.Group,{controlId:"email"},c.a.createElement(S.a.Label,null,"Email:"),c.a.createElement(S.a.Control,{type:"text",value:this.state.email}),c.a.createElement(S.a.Text,{className:"text-muted"})),c.a.createElement(S.a.Group,{controlId:"password"},c.a.createElement(S.a.Label,null,"Password:"),c.a.createElement(S.a.Control,{type:"password",value:this.state.password}),c.a.createElement(S.a.Text,{className:"text-muted"})),c.a.createElement("div",{className:"radio-button"},c.a.createElement("input",{type:"radio",id:"accountType",name:"accountType",value:"sponsors"}),"Sponsor \xa0\xa0",c.a.createElement("input",{type:"radio",id:"accountType",name:"accountType",value:"users"}),"Volunteer"),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(E.a,{variant:"primary",type:"submit"},"Login")))}}]),t}(o.Component),se=Object(f.a)(Object(h.b)(null,{addLoginAccountToStore:function(e){return{type:"ADD_LOGIN_ACCOUNT_TO_STORE",payload:e}},markSponsorInStore:function(){return{type:"LOGGED_IN_AS_SPONSOR"}}})(ie)),le=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={description:n.props.event.description,datetime:n.props.event.datetime.slice(0,16),max_volunteers:n.props.event.max_volunteers},n.handleChange=function(e){n.setState(Object(_.a)({},e.target.id,e.target.value))},n.handleSubmit=function(){n.props.onHide(),fetch("".concat(N,"events/").concat(n.props.event.id),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({datetime:n.state.datetime,max_volunteers:n.state.max_volunteers,description:n.state.description})}).then(function(e){return e.json()}).then(function(e){var t=n.updateCEI(e);n.props.updateConfirms(t)})},n.updateCEI=function(e){return n.props.state.currentUser.confirm_event_info.map(function(t){return t.event.id===e.id?Object(r.a)({},t,{event:e}):t})},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return c.a.createElement(T.a,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:this.props.show},c.a.createElement(T.a.Header,null,c.a.createElement(T.a.Title,{id:"contained-modal-title-vcenter"},"Update:  ",this.props.event.title)),c.a.createElement(T.a.Body,null,c.a.createElement(S.a,{onChange:this.handleChange},c.a.createElement(S.a.Group,{controlId:"description"},c.a.createElement(S.a.Label,null,"Event Discription"),c.a.createElement(S.a.Control,{type:"text",defaultValue:this.state.description}),c.a.createElement(S.a.Text,{className:"text-muted"})),c.a.createElement(S.a.Group,{controlId:"datetime"},c.a.createElement(S.a.Label,null,"Previous Date and Time:"),c.a.createElement(S.a.Control,{type:"datetime-local",defaultValue:this.state.datetime}),c.a.createElement(S.a.Text,{className:"text-muted"})),c.a.createElement(S.a.Group,{controlId:"max_volunteers"},c.a.createElement(S.a.Label,null,"Volunteers:"),c.a.createElement(S.a.Control,{type:"number",value:this.state.max_volunteers,min:this.props.event.max_volunteers}),c.a.createElement(S.a.Text,{className:"text-muted"})))),c.a.createElement(T.a.Footer,null,c.a.createElement(E.a,{onClick:this.props.onHide},"Close"),c.a.createElement(E.a,{onClick:this.handleSubmit},"Update Event")))}}]),t}(o.Component),ue=Object(h.b)(function(e){return{state:e}},{updateConfirms:function(e){return{type:"UPDATE_CONFIRMS",payload:e}}})(le),me=function(e){return c.a.createElement("div",null,e.confirm.attendee_name,"\xa0-- ",e.confirm.attendee_email,c.a.createElement("div",{className:"radio-button",onChange:function(t){e.handleRadio(e.confirm.id,t.target.value)}},c.a.createElement("input",{type:"radio",id:e.confirm.attendee_email,name:e.confirm.attendee_email,value:!0,checked:e.confirm.attend?"checked":null})," Attended \xa0\xa0",c.a.createElement("input",{type:"radio",id:e.confirm.attendee_email,name:e.confirm.attendee_email,value:!1,checked:e.confirm.attend?null:"checked"})," Did not attend"),c.a.createElement("hr",null))},pe=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={confirms:[]},n.renderConfrims=function(){return n.state.confirms.map(function(e){return c.a.createElement(me,{key:e.id,confirm:e,handleRadio:n.handleRadio})})},n.handleRadio=function(e,t){n.setState({confirms:n.state.confirms.map(function(n){return n.id===e?Object(r.a)({},n,{attend:"true"===t}):n})})},n.handleSubmit=function(e){n.props.onHide();var t=n.state.confirms.filter(function(e){return e.attend}).map(function(e){return e.id});fetch("".concat(N,"confirms/update_confirms"),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({attended_id:t})})},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(N,"events/").concat(this.props.event.id)).then(function(e){return e.json()}).then(function(t){e.setState({confirms:t.confirms})})}},{key:"render",value:function(){return c.a.createElement(T.a,{className:"confirm-volunteer",size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:this.props.show},c.a.createElement(T.a.Header,null,c.a.createElement(T.a.Title,{id:"contained-modal-title-vcenter"},this.props.event.title)),c.a.createElement(T.a.Body,null,c.a.createElement(S.a,null,c.a.createElement("div",{id:"confirm-users"},this.renderConfrims()))),c.a.createElement(T.a.Footer,null,c.a.createElement(E.a,{onClick:this.props.onHide},"Close"),c.a.createElement(E.a,{onClick:this.handleSubmit},"Submit Confirms")))}}]),t}(o.PureComponent),de=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={editModalShow:!1,confirmContainerModalShow:!1},n.renderButtons=function(e){return Date.parse(e.event.datetime)<Date.parse(new Date)?n.renderButtonsofPassEvents(e):n.renderButtonsofUpcomingEvents(e)},n.renderButtonsofPassEvents=function(e){if(e.event.coordinator_id===e.currentUser)return c.a.createElement(E.a,{variant:"outline-success",size:"sm",onClick:function(){return n.setState({confirmContainerModalShow:!0})}},"Confirm Volunteers");var t=e.confirm.attend?"Thank you for Volunteering":"";return c.a.createElement(g.a.Text,null,"Event Completed. ".concat(t))},n.renderButtonsofUpcomingEvents=function(e){return e.event.coordinator_id===e.currentUser?c.a.createElement("div",{className:"space-button"},c.a.createElement(E.a,{variant:"outline-secondary",size:"sm",onClick:function(){return n.setState({editModalShow:!0})}},"Edit Event"),c.a.createElement(E.a,{variant:"outline-danger",size:"sm",onClick:function(){n.handleDelete(e.event.id,e.confirm)}},"Delete Event")):c.a.createElement(E.a,{variant:"outline-danger",size:"sm",onClick:function(){n.handleLeave(e.confirm)}},"Leave Event")},n.handleLeave=function(e){fetch("".concat(N,"confirms/").concat(e.id),{method:"DELETE"}).then(function(e){return e.json()}).then(function(e){return n.filterDeletedConfirm(e)}).then(function(e){return n.props.updateConfirms(e)})},n.handleDelete=function(e,t){fetch("".concat(N,"events/").concat(e),{method:"DELETE"}).then(function(){var e=n.filterDeletedEventFromCEI(t);n.props.updateConfirms(e)})},n.toggleEditModal=function(){n.setState({editModalShow:!n.state.editModalShow})},n.toggleConfrimModal=function(){n.setState({confirmContainerModalShow:!n.state.confirmContainerModalShow})},n.filterDeletedEventFromCEI=function(e){return n.props.state.currentUser.confirm_event_info.filter(function(t){return t.confirm.id!==e.id})},n.filterDeletedConfirm=function(e){return n.props.state.currentUser.confirm_event_info.filter(function(t){return t.confirm.id!==e.destroyed_confirm_id})},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(g.a.Body,{className:"my-event-card"},c.a.createElement(g.a,{className:"text-center"},c.a.createElement(L.a,{className:"justify-content-md-center"},c.a.createElement(R.a,{xs:7,className:!0},c.a.createElement(g.a.Body,null,c.a.createElement(g.a.Title,null,this.props.event.title),c.a.createElement(g.a.Text,null,c.a.createElement(C.a,{locale:"en",format:"MMMM DD, YYYY",date:this.props.event.datetime}),"\xa0at\xa0",c.a.createElement(C.a,{locale:"en",format:"LT",date:this.props.event.datetime})),c.a.createElement(g.a.Text,null,this.props.event.description)),this.renderButtons(this.props))))),c.a.createElement(ue,{show:this.state.editModalShow,onHide:this.toggleEditModal,event:this.props.event}),c.a.createElement(pe,{show:this.state.confirmContainerModalShow,onHide:this.toggleConfrimModal,event:this.props.event,confirms:this.props.confirm}))}}]),t}(o.Component),he=Object(h.b)(function(e){return{state:e}},{updateConfirms:function(e){return{type:"UPDATE_CONFIRMS",payload:e}}})(de),fe=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderMyEvents=function(){return n.props.state.currentUser.confirm_event_info.map(function(e){return c.a.createElement(he,{key:e.confirm.id,event:e.event,confirm:e.confirm,currentUser:n.props.state.currentUser.id})})},n.renderEventStats=function(){return n.props.currentUser.confirm_event_info.count>1?"You have confirmed to ".concat(n.props.currentUser.confirm_event_info.count," events."):"You have confirmed to ".concat(n.props.currentUser.confirm_event_info.count," event.")},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"my-event-container"},c.a.createElement("h1",{className:"center"}," My Events"),c.a.createElement("br",null),this.renderMyEvents())}}]),t}(o.Component),Ee=Object(h.b)(function(e){return{state:e}})(fe),ve=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).numberOfVolunteer=function(){return Date.parse(n.props.donation.event_datetime)>Date.parse(new Date)?"".concat(n.props.donation.current_number_of_confirms," volunteers signed up"):"Number of attendees: ".concat(n.props.donation.number_of_attended)},n.volunteerCount=function(){return Date.parse(n.props.donation.event_datetime)>Date.parse(new Date)?"".concat(n.props.donation.max_volunteers," spots open"):"$".concat(n.props.donation.total_donation_for_event,".00 contributed for this event ")},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return c.a.createElement(g.a.Body,{className:"my-donation-card"},c.a.createElement(g.a,{className:"text-center"},c.a.createElement(L.a,{className:"justify-content-md-center"},c.a.createElement(R.a,{xs:7,className:!0},c.a.createElement(g.a.Body,null,c.a.createElement(g.a.Title,null,this.props.donation.event_title),c.a.createElement(g.a.Text,null,this.props.donation.event_description,c.a.createElement("br",null),"Contribution per volunteer: $".concat(this.props.donation.amount_per_volunteer,".00"),c.a.createElement("br",null),this.numberOfVolunteer())),c.a.createElement(g.a.Body,null,c.a.createElement(g.a.Text,null,this.volunteerCount()))))))}}]),t}(o.Component),be=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderDonations=function(){return n.props.state.currentUser.donations.map(function(e){return c.a.createElement(ve,{key:e.id,donation:e})})},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",{className:"center"}," My Contributions"),this.renderDonations())}}]),t}(o.Component),ye=Object(h.b)(function(e){return{state:e}})(be),Oe=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,"Donation Page")}}]),t}(o.Component),ge=function(e){return c.a.createElement("div",null)},je=n(124),Ce=n(123),_e=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderHomepage=function(){return c.a.createElement(ae,null)},n.renderStatic=function(){return c.a.createElement(O,null)},n.renderUserContainer=function(){return c.a.createElement(Z,null)},n.renderNewMemeber=function(){return c.a.createElement(ce,null)},n.renderLoginForm=function(){return c.a.createElement(se,null)},n.renderMyEventContainer=function(){return c.a.createElement(Ee,null)},n.renderMyDonationContainer=function(){return c.a.createElement(ye,null)},n.renderDonationsPage=function(){return c.a.createElement(Oe,null)},n.renderAbout=function(){return c.a.createElement(ge,null)},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("user"),n=localStorage.getItem("accountType");t?fetch("".concat(N).concat(n,"/").concat(t)).then(function(e){return e.json()}).then(function(t){e.props.addLoginAccountToStore(t),"sponsors"===n&&e.props.markSponsorInStore()}):fetch("".concat(N))}},{key:"render",value:function(){return c.a.createElement(je.a,null,c.a.createElement(c.a.Fragment,null,c.a.createElement(Ce.a,{path:"/",component:this.renderStatic}),c.a.createElement(Ce.a,{exact:!0,path:"/",component:this.renderHomepage}),c.a.createElement(Ce.a,{exact:!0,path:"/events",component:this.renderUserContainer}),c.a.createElement(Ce.a,{exact:!0,path:"/newmember",component:this.renderNewMemeber}),c.a.createElement(Ce.a,{exact:!0,path:"/login",component:this.renderLoginForm}),c.a.createElement(Ce.a,{exact:!0,path:"/attending",component:this.renderMyEventContainer}),c.a.createElement(Ce.a,{exact:!0,path:"/contribution",component:this.renderMyDonationContainer}),c.a.createElement(Ce.a,{exact:!0,path:"/donation",component:this.renderDonationsPage}),c.a.createElement(Ce.a,{exact:!0,path:"/about",component:this.renderAbout})))}}]),t}(o.Component),Te=Object(h.b)(null,{addLoginAccountToStore:function(e){return{type:"ADD_LOGIN_ACCOUNT_TO_STORE",payload:e}},markSponsorInStore:function(){return{type:"LOGGED_IN_AS_SPONSOR"}}})(_e);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Se=n(42),Ne=(n(115),Object(Se.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_EVENTS":return Object(r.a)({},e,{events:t.payload});case"ADD_CURRENT_LOCATION":return Object(r.a)({},e,{location:[t.payload.latitude,t.payload.longitude]});case"ADD_NEW_EVENT":return Object(r.a)({},e,{events:[].concat(Object(a.a)(e.events),[t.payload])});case"ADD_LOGIN_ACCOUNT_TO_STORE":return Object(r.a)({},e,{currentUser:t.payload});case"UPDATE_CONFIRMS":return Object(r.a)({},e,{currentUser:Object(r.a)({},e.currentUser,{confirm_event_info:t.payload})});case"ADD_CONFIRMS":return Object(r.a)({},e,{currentUser:Object(r.a)({},e.currentUser,{confirm_event_info:[].concat(Object(a.a)(e.currentUser.confirm_event_info),[t.payload])})});case"ADD_DONATIONS_TO_USER":return Object(r.a)({},e,{currentUser:Object(r.a)({},e.currentUser,{donations:[].concat(Object(a.a)(e.currentUser.donations),[t.payload])})});case"REMOVE_CURRENT_USER":return Object(r.a)({},e,{currentUser:t.payload,sponsor:!1});case"LOGGED_IN_AS_SPONSOR":return Object(r.a)({},e,{sponsor:!0});case"ADD_DONATIONS_TO_EVENT":return Object(r.a)({},e,{events:t.payload});default:return e}}));s.a.render(c.a.createElement(h.a,{store:Ne},c.a.createElement(Te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},77:function(e,t,n){e.exports=n(116)},83:function(e,t,n){},84:function(e,t,n){}},[[77,1,2]]]);
//# sourceMappingURL=main.aebe4392.chunk.js.map